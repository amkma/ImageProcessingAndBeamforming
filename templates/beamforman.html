{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beamforming Simulator</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="{% static 'css/beamforman.css' %}">
</head>
<body>

<div class="main-container">
    <div class="split-pane left-pane">
        <h1>Beam Controller</h1>

        <h2>Scenarios</h2>
        <div class="scenario-buttons">
            <button id="load5g">5G Base Station</button>
            <button id="loadTumor">Tumor Ablation</button>
            <button id="loadUltrasound">Ultrasound</button>
        </div>

        <h2>Antenna Array Config</h2>
        <div class="control-group">
            <div class="slider-container">
               <span class="slider-label">Count (N)</span>
               <input type="range" id="numElements" min="2" max="32" step="1" value="8">
               <span class="slider-val" id="val-numElements">8</span>
            </div>
            <div class="slider-container">
               <span class="slider-label">Spacing (meters)</span>
               <input type="range" id="spacing" min="0.01" max="0.5" step="0.01" value="0.06">
               <span class="slider-val" id="val-spacing">0.06m</span>
            </div>
            <div class="slider-container">
               <span class="slider-label">Global Phase Shift (Deg)</span>
               <input type="range" id="globalPhase" min="-180" max="180" step="1" value="0">
               <span class="slider-val" id="val-globalPhase">0Â°</span>
            </div>
        </div>

        <h2>Geometry & Frequency</h2>
        <div class="control-group">
             <div style="margin-bottom: 15px;">
                <label for="geometrySelect" class="slider-label">Geometry Type: </label>
                <select id="geometrySelect">
                    <option value="linear">Linear Array</option>
                    <option value="curved">Curved (Arc)</option>
                </select>
            </div>
            <div class="slider-container" id="curvature-group" style="display:none;">
               <span class="slider-label">Arc Curvature</span>
               <input type="range" id="curvature" min="0" max="1" step="0.05" value="0.2">
               <span class="slider-val" id="val-curvature">0.2</span>
            </div>
            <div class="slider-container geometry-divider">
               <span class="slider-label">Global Freq (GHz)</span>
               <input type="range" id="globalFreq" min="1" max="10" step="0.1" value="2.4">
               <span class="slider-val" id="val-globalFreq">2.4 GHz</span>
            </div>
        </div>

        <h2>Individual Element Control</h2>
        <div class="control-group">
             <div style="margin-bottom: 10px;">
                 <input type="checkbox" id="enableIndividual"> <label for="enableIndividual">Enable Individual XYZ/Freq override</label>
             </div>
             <div id="individual-controls-container" style="display:none;">
                 </div>
        </div>
    </div>

    <div class="split-pane right-pane">
        <div class="viz-container">
            <div class="viz-header">Spatial Intensity Heatmap (Cartesian)</div>
            <div class="canvas-wrapper">
                <canvas id="heatmapCanvas"></canvas>
            </div>
        </div>

        <div class="viz-container">
            <div class="viz-header">Far-Field Beam Profile (Polar)</div>
            <div class="canvas-wrapper">
                 <canvas id="polarChartCanvas"></canvas>
            </div>
        </div>
    </div>
</div>

<script src="{% static 'js/beamforman.js' %}"></script>
</body>
</html>